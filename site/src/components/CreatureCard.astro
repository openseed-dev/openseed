---
interface Props {
  name: string;
  genome: string;
  role: string;
  status: "alive" | "sleeping";
  empty?: boolean;
}

const { name, genome, role, status, empty = false } = Astro.props;
---

{empty ? (
  <div class="group rounded-lg border border-dashed border-border-accent p-5 flex flex-col items-center justify-center gap-3 hover:border-alive/50 transition-colors cursor-pointer min-h-[140px]">
    <span class="text-2xl text-text-tertiary group-hover:text-alive transition-colors">+</span>
    <span class="text-sm text-text-tertiary group-hover:text-text-secondary transition-colors">spawn yours</span>
  </div>
) : (
  <div class="rounded-lg border border-border bg-surface p-5 space-y-3">
    <div class="flex items-center justify-between">
      <span class="font-mono font-medium text-text">{name}</span>
      <div class="flex items-center gap-1.5">
        <span class:list={[
          "w-2 h-2 rounded-full",
          status === "alive" ? "bg-alive animate-pulse" : "bg-dormant animate-[breathe_3s_ease-in-out_infinite]",
        ]}></span>
        <span class="text-xs text-text-tertiary">{status === "alive" ? "alive" : "asleep"}</span>
      </div>
    </div>
    <div class="text-xs text-text-tertiary">
      <span class="font-mono">{genome}</span>
    </div>
    <div class="text-sm text-text-secondary">{role}</div>
  </div>
)}

<style>
  @keyframes breathe {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }
</style>
